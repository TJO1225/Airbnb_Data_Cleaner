<!-- templates/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airbnb Data Cleaner</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1>Welcome to the Airbnb Data Cleaner</h1>
        <form action="{{ url_for('submit') }}" method="POST">
            <h2>Search Variables</h2>
            <label for="location_query">Location Query:</label>
            <input type="text" id="location_query" name="location_query" value="{{ config['Search Variables']['location_query'] }}" class="form-control">

            <label for="max_listings">Max Listings:</label>
            <input type="number" id="max_listings" name="max_listings" value="{{ config['Search Variables']['max_listings'] }}" class="form-control">

            <label for="include_reviews">Include Reviews:</label>
            <input type="checkbox" id="include_reviews" name="include_reviews" {% if config['Search Variables']['include_reviews'] %}checked{% endif %} class="form-check-input">

            <label for="max_reviews">Max Reviews:</label>
            <input type="number" id="max_reviews" name="max_reviews" value="{{ config['Search Variables']['max_reviews'] }}" class="form-control">

            <label for="calendar_months">Calendar Months:</label>
            <input type="number" id="calendar_months" name="calendar_months" value="{{ config['Search Variables']['calendar_months'] }}" class="form-control">

            <label for="add_more_host_info">Add More Host Info:</label>
            <input type="checkbox" id="add_more_host_info" name="add_more_host_info" {% if config['Search Variables']['add_more_host_info'] %}checked{% endif %} class="form-check-input">

            <label for="currency">Currency:</label>
            <input type="text" id="currency" name="currency" value="{{ config['Search Variables']['currency'] }}" class="form-control">

            <label for="check_in">Check-In:</label>
            <input type="date" id="check_in" name="check_in" value="{{ config['Search Variables']['check_in'] }}" class="form-control">

            <label for="check_out">Check-Out:</label>
            <input type="date" id="check_out" name="check_out" value="{{ config['Search Variables']['check_out'] }}" class="form-control">

            <label for="limit_points">Limit Points:</label>
            <input type="number" id="limit_points" name="limit_points" value="{{ config['Search Variables']['limit_points'] }}" class="form-control">

            <h2>Logic Variables</h2>
            <h3>Good Data</h3>
            <label for="total_months">Total Months:</label>
            <input type="number" id="total_months" name="total_months" value="{{ config['Logic Variables']['Good Data']['total_months'] }}" class="form-control">

            <label for="missing_months">Missing Months:</label>
            <input type="number" id="missing_months" name="missing_months" value="{{ config['Logic Variables']['Good Data']['missing_months'] }}" class="form-control">

            <label for="avg_reviews_per_month">Avg Reviews Per Month:</label>
            <input type="number" id="avg_reviews_per_month" name="avg_reviews_per_month" value="{{ config['Logic Variables']['Good Data']['avg_reviews_per_month'] }}" class="form-control">

            <label for="min_reviews">Min Reviews:</label>
            <input type="number" id="min_reviews" name="min_reviews" value="{{ config['Logic Variables']['Good Data']['min_reviews'] }}" class="form-control">

            <label for="min_bedrooms">Min Bedrooms:</label>
            <input type="number" id="min_bedrooms" name="min_bedrooms" value="{{ config['Logic Variables']['Good Data']['min_bedrooms'] }}" class="form-control">

            <label for="high_season_reviews">High Season Reviews:</label>
            <input type="number" id="high_season_reviews" name="high_season_reviews" value="{{ config['Logic Variables']['Good Data']['high_season_reviews'] }}" class="form-control">

            <h3>Possibly Good Data</h3>
            <label for="total_months_pgd">Total Months:</label>
            <input type="number" id="total_months_pgd" name="total_months_pgd" value="{{ config['Logic Variables']['Possibly Good Data']['total_months'] }}" class="form-control">

            <label for="missing_months_pgd">Missing Months:</label>
            <input type="number" id="missing_months_pgd" name="missing_months_pgd" value="{{ config['Logic Variables']['Possibly Good Data']['missing_months'] }}" class="form-control">

            <label for="avg_reviews_per_month_pgd">Avg Reviews Per Month:</label>
            <input type="number" id="avg_reviews_per_month_pgd" name="avg_reviews_per_month_pgd" value="{{ config['Logic Variables']['Possibly Good Data']['avg_reviews_per_month'] }}" class="form-control">

            <label for="min_reviews_pgd">Min Reviews:</label>
            <input type="number" id="min_reviews_pgd" name="min_reviews_pgd" value="{{ config['Logic Variables']['Possibly Good Data']['min_reviews'] }}" class="form-control">

            <label for="min_bedrooms_pgd">Min Bedrooms:</label>
            <input type="number" id="min_bedrooms_pgd" name="min_bedrooms_pgd" value="{{ config['Logic Variables']['Possibly Good Data']['min_bedrooms'] }}" class="form-control">

            <label for="high_season_reviews_pgd">High Season Reviews:</label>
            <input type="number" id="high_season_reviews_pgd" name="high_season_reviews_pgd" value="{{ config['Logic Variables']['Possibly Good Data']['high_season_reviews'] }}" class="form-control">

            <h2>General</h2>
            <label for="output_file_name">Output File Name:</label>
            <input type="text" id="output_file_name" name="output_file_name" value="{{ config['General']['output_file_name'] }}" class="form-control">

            <label for="output_file_format">Output File Format:</label>
            <select id="output_file_format" name="output_file_format" class="form-control">
                <option value="csv" {% if config['General']['output_file_format'] == 'csv' %}selected{% endif %}>CSV</option>
                <option value="excel" {% if config['General']['output_file_format'] == 'excel' %}selected{% endif %}>Excel</option>
            </select>

            <label for="output_directory">Output Directory:</label>
            <input type="text" id="output_directory" name="output_directory" value="{{ config['General']['output_directory'] }}" class="form-control">

            <label for="high_season_override">High Season Override:</label>
            <select id="high_season_override" name="high_season_override" class="form-control">
                <option value="" {% if config['General']['high_season_override'] == '' %}selected{% endif %}></option>
                <option value="Q1" {% if config['General']['high_season_override'] == 'Q1' %}selected{% endif %}>Q1</option>
                <option value="Q2" {% if config['General']['high_season_override'] == 'Q2' %}selected{% endif %}>Q2</option>
                <option value="Q3" {% if config['General']['high_season_override'] == 'Q3' %}selected{% endif %}>Q3</option>
                <option value="Q4" {% if config['General']['high_season_override'] == 'Q4' %}selected{% endif %}>Q4</option>
            </select>

            <button type="submit" class="btn btn-primary mt-3">Save Configuration</button>
        </form>

        <form action="{{ url_for('run_cleaning') }}" method="POST" class="mt-3">
            <button type="submit" class="btn btn-success">Run Data Cleaning</button>
        </form>
    </div>
</body>
</html>
